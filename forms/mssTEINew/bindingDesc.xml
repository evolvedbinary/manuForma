<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:sc="http://www.ascc.net/xml/schematron" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:local="http://syriaca.org/ns">
   <head>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
      <meta name="author" content="majlis-erc"/>
      <meta name="description" content="Create and edit MSS records for MAJLIS: The Transformation of Jewish Literature in Arabic in the Islamicate World. Record title information"/>
      <title>Edit MSS TEI records</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"/>
      <link rel="stylesheet" type="text/css" href="resources/bootstrap/css/bootstrap.min.css"/>
      <link rel="stylesheet" type="text/css" href="resources/css/style.css"/>
      <link rel="stylesheet" type="text/css" href="resources/css/xforms.css"/>
      <script type="text/javascript" src="resources/js/jquery.min.js"/>
      <script type="text/javascript" src="resources/bootstrap/js/bootstrap.min.js"/>
      <xf:model id="m-mss">
         <xf:instance id="i-schemaConstraints" src="forms/mssTEINew/templates/bindingDesc-schemaConstraints.xml"/>
         <xf:bind nodeset="instance('i-rec')//tei:bindingDesc">
            <xf:bind nodeset="tei:p"/>
            <xf:bind nodeset="tei:decoNote">
               <xf:bind nodeset="tei:p"/>
               <xf:bind nodeset="tei:material">
                  <xf:bind nodeset="@key" required="true()"/>
               </xf:bind>
            </xf:bind>
            <xf:bind nodeset="tei:condition">
               <xf:bind nodeset="@key" required="true()"/>
               <xf:bind nodeset="tei:p"/>
            </xf:bind>
            <xf:bind nodeset="tei:binding">
               <xf:bind nodeset="tei:dimensions">
                  <xf:bind nodeset="tei:dim"/>
                  <xf:bind nodeset="tei:height"/>
                  <xf:bind nodeset="tei:depth"/>
                  <xf:bind nodeset="tei:width"/>
               </xf:bind>
               <xf:bind nodeset="tei:condition">
                  <xf:bind nodeset="@key" required="true()"/>
                  <xf:bind nodeset="tei:p"/>
               </xf:bind>
               <xf:bind nodeset="tei:decoNote">
                  <xf:bind nodeset="tei:p"/>
                  <xf:bind nodeset="tei:material">
                     <xf:bind nodeset="@key" required="true()"/>
                  </xf:bind>
               </xf:bind>
               <xf:bind nodeset="tei:p"/>
               <xf:bind nodeset="tei:origPlace"/>
               <xf:bind nodeset="tei:origDate"/>
            </xf:bind>
         </xf:bind>
      </xf:model>
   </head>
   <body>
      <h2 class="h3 mainElement">Binding Description</h2>
      <xf:group namespace="http://www.w3.org/2002/xforms" ref="instance('i-rec')//*:bindingDesc" id="bindingDesc-root">
         <div class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
            <div class="btn-group" role="group">
               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline">
                  <xf:label>
                     <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                  </xf:label>
                  <xf:delete ev:event="DOMActivate" ref="."/>
               </xf:trigger>
               <span class="elementLabel">
                  <xf:output value="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"/>
               </span>
            </div>
            <div class="input-group">
               <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]">
                  <xf:label/>
                  <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef">
                     <xf:label ref="@ident"/>
                     <xf:value ref="@ident"/>
                  </xf:itemset>
                  <xf:action ev:event="xforms-value-changed">
                     <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                  </xf:action>
               </xf:select1>
               <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]]">
                  <xf:label>
                     <i class="bi bi-plus-circle"/> Add Attribute</xf:label>
                  <xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"/>
               </xf:trigger>
               <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]">
                  <xf:label/>
                  <xf:item>
                     <xf:label> - select - </xf:label>
                     <xf:value/>
                  </xf:item>
                  <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element">
                     <xf:label ref="@ident"/>
                     <xf:value ref="@ident"/>
                  </xf:itemset>
                  <xf:action ev:event="xforms-value-changed">
                     <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                  </xf:action>
               </xf:select1>
               <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]">
                  <xf:label>
                     <i class="bi bi-plus-circle"/> Add Element</xf:label>
                  <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-elementTemplate')//*[local-name() = instance('i-insert-elements')//*:element]" position="after"/>
               </xf:trigger>
            </div>
         </div>
         <div class="element">
            <div class="alert alert-light hint elementDesc">
               <xf:output ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:desc"/>
            </div>
            <span class="attribute-group">
               <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*" class="row mb-2">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="row mb-2">
                     <div class="col-sm-2">
                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove" ref=".">
                           <xf:label>
                              <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                           </xf:label>
                           <xf:delete ev:event="DOMActivate" ref="."/>
                        </xf:trigger>
                        <xf:output xmlns="http://www.w3.org/2002/xforms" value="local-name(current())"/>
                     </div>
                     <div class="col-sm-10">
                        <xf:input ref=".[not(instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem)]"/>
                        <xf:select1 ref=".[instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem]">
                           <xf:itemset ref="instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem">
                              <xf:label ref="@ident"/>
                              <xf:value ref="@ident"/>
                           </xf:itemset>
                        </xf:select1>
                     </div>
                  </div>
               </xf:repeat>
            </span>
            <span class="element-group">
               <xf:input ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='input']]"/>
               <xf:textarea ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='textarea']]"/>
               <xf:repeat id="bindingDescrepeat-level1" ref="./*[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                  <div class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                     <div class="btn-group" role="group">
                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline">
                           <xf:label>
                              <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                           </xf:label>
                           <xf:delete ev:event="DOMActivate" ref="."/>
                        </xf:trigger>
                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline">
                           <xf:label>
                              <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"/>
                           </xf:label>
                           <xf:action ev:event="DOMActivate">
                              <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level1')"/>
                              <insert origin="instance('i-rec')//*:bindingDesc/*[index('bindingDescrepeat-level1')]" nodeset="instance('i-rec')//*:bindingDesc/*" at="index('bindingDescrepeat-level1') - 1" position="before"/>
                              <delete nodeset="instance('i-rec')//*:bindingDesc/*[instance('i-move')/tmp + 1]"/>
                           </xf:action>
                        </xf:trigger>
                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline">
                           <xf:label>
                              <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"/>
                           </xf:label>
                           <xf:action ev:event="DOMActivate">
                              <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level1')"/>
                              <insert origin="instance('i-rec')//*:bindingDesc/*[index('bindingDescrepeat-level1')]" nodeset="instance('i-rec')//*:bindingDesc/*" at="index('bindingDescrepeat-level1') + 1" position="after"/>
                              <delete nodeset="."/>
                           </xf:action>
                        </xf:trigger>
                        <span class="elementLabel">
                           <xf:output value="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"/>
                        </span>
                     </div>
                     <div class="input-group">
                        <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]">
                           <xf:label/>
                           <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef">
                              <xf:label ref="@ident"/>
                              <xf:value ref="@ident"/>
                           </xf:itemset>
                           <xf:action ev:event="xforms-value-changed">
                              <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                           </xf:action>
                        </xf:select1>
                        <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]]">
                           <xf:label>
                              <i class="bi bi-plus-circle"/> Add Attribute</xf:label>
                           <xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"/>
                        </xf:trigger>
                        <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]">
                           <xf:label/>
                           <xf:item>
                              <xf:label> - select - </xf:label>
                              <xf:value/>
                           </xf:item>
                           <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element">
                              <xf:label ref="@ident"/>
                              <xf:value ref="@ident"/>
                           </xf:itemset>
                           <xf:action ev:event="xforms-value-changed">
                              <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                           </xf:action>
                        </xf:select1>
                        <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]">
                           <xf:label>
                              <i class="bi bi-plus-circle"/> Add Element</xf:label>
                           <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-elementTemplate')//*[local-name() = instance('i-insert-elements')//*:element]" position="after"/>
                        </xf:trigger>
                     </div>
                  </div>
                  <div class="element">
                     <div class="alert alert-light hint elementDesc">
                        <xf:output ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:desc"/>
                     </div>
                     <span class="attribute-group">
                        <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*" class="row mb-2">
                           <div xmlns="http://www.w3.org/1999/xhtml" class="row mb-2">
                              <div class="col-sm-2">
                                 <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove" ref=".">
                                    <xf:label>
                                       <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                    </xf:label>
                                    <xf:delete ev:event="DOMActivate" ref="."/>
                                 </xf:trigger>
                                 <xf:output xmlns="http://www.w3.org/2002/xforms" value="local-name(current())"/>
                              </div>
                              <div class="col-sm-10">
                                 <xf:input ref=".[not(instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem)]"/>
                                 <xf:select1 ref=".[instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem]">
                                    <xf:itemset ref="instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem">
                                       <xf:label ref="@ident"/>
                                       <xf:value ref="@ident"/>
                                    </xf:itemset>
                                 </xf:select1>
                              </div>
                           </div>
                        </xf:repeat>
                     </span>
                     <span class="element-group">
                        <xf:input ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='input']]"/>
                        <xf:textarea ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='textarea']]"/>
                        <xf:repeat id="bindingDescrepeat-level2" ref="./*[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                           <div class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                              <div class="btn-group" role="group">
                                 <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline">
                                    <xf:label>
                                       <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                    </xf:label>
                                    <xf:delete ev:event="DOMActivate" ref="."/>
                                 </xf:trigger>
                                 <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline">
                                    <xf:label>
                                       <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"/>
                                    </xf:label>
                                    <xf:action ev:event="DOMActivate">
                                       <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level2')"/>
                                       <insert origin="instance('i-rec')//*:bindingDesc/*/*[index('bindingDescrepeat-level2')]" nodeset="instance('i-rec')//*:bindingDesc/*/*" at="index('bindingDescrepeat-level2') - 1" position="before"/>
                                       <delete nodeset="instance('i-rec')//*:bindingDesc/*/*[instance('i-move')/tmp + 1]"/>
                                    </xf:action>
                                 </xf:trigger>
                                 <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline">
                                    <xf:label>
                                       <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"/>
                                    </xf:label>
                                    <xf:action ev:event="DOMActivate">
                                       <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level2')"/>
                                       <insert origin="instance('i-rec')//*:bindingDesc/*/*[index('bindingDescrepeat-level2')]" nodeset="instance('i-rec')//*:bindingDesc/*/*" at="index('bindingDescrepeat-level2') + 1" position="after"/>
                                       <delete nodeset="."/>
                                    </xf:action>
                                 </xf:trigger>
                                 <span class="elementLabel">
                                    <xf:output value="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"/>
                                 </span>
                              </div>
                              <div class="input-group">
                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]">
                                    <xf:label/>
                                    <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef">
                                       <xf:label ref="@ident"/>
                                       <xf:value ref="@ident"/>
                                    </xf:itemset>
                                    <xf:action ev:event="xforms-value-changed">
                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                                    </xf:action>
                                 </xf:select1>
                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]]">
                                    <xf:label>
                                       <i class="bi bi-plus-circle"/> Add Attribute</xf:label>
                                    <xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"/>
                                 </xf:trigger>
                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]">
                                    <xf:label/>
                                    <xf:item>
                                       <xf:label> - select - </xf:label>
                                       <xf:value/>
                                    </xf:item>
                                    <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element">
                                       <xf:label ref="@ident"/>
                                       <xf:value ref="@ident"/>
                                    </xf:itemset>
                                    <xf:action ev:event="xforms-value-changed">
                                       <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                                    </xf:action>
                                 </xf:select1>
                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]">
                                    <xf:label>
                                       <i class="bi bi-plus-circle"/> Add Element</xf:label>
                                    <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-elementTemplate')//*[local-name() = instance('i-insert-elements')//*:element]" position="after"/>
                                 </xf:trigger>
                              </div>
                           </div>
                           <div class="element">
                              <div class="alert alert-light hint elementDesc">
                                 <xf:output ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:desc"/>
                              </div>
                              <span class="attribute-group">
                                 <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*" class="row mb-2">
                                    <div xmlns="http://www.w3.org/1999/xhtml" class="row mb-2">
                                       <div class="col-sm-2">
                                          <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove" ref=".">
                                             <xf:label>
                                                <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                             </xf:label>
                                             <xf:delete ev:event="DOMActivate" ref="."/>
                                          </xf:trigger>
                                          <xf:output xmlns="http://www.w3.org/2002/xforms" value="local-name(current())"/>
                                       </div>
                                       <div class="col-sm-10">
                                          <xf:input ref=".[not(instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem)]"/>
                                          <xf:select1 ref=".[instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem]">
                                             <xf:itemset ref="instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem">
                                                <xf:label ref="@ident"/>
                                                <xf:value ref="@ident"/>
                                             </xf:itemset>
                                          </xf:select1>
                                       </div>
                                    </div>
                                 </xf:repeat>
                              </span>
                              <span class="element-group">
                                 <xf:input ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='input']]"/>
                                 <xf:textarea ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='textarea']]"/>
                                 <xf:repeat id="bindingDescrepeat-level3" ref="./*[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                    <div class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                       <div class="btn-group" role="group">
                                          <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline">
                                             <xf:label>
                                                <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                             </xf:label>
                                             <xf:delete ev:event="DOMActivate" ref="."/>
                                          </xf:trigger>
                                          <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline">
                                             <xf:label>
                                                <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"/>
                                             </xf:label>
                                             <xf:action ev:event="DOMActivate">
                                                <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level3')"/>
                                                <insert origin="instance('i-rec')//*:bindingDesc/*/*/*[index('bindingDescrepeat-level3')]" nodeset="instance('i-rec')//*:bindingDesc/*/*/*" at="index('bindingDescrepeat-level3') - 1" position="before"/>
                                                <delete nodeset="instance('i-rec')//*:bindingDesc/*/*/*[instance('i-move')/tmp + 1]"/>
                                             </xf:action>
                                          </xf:trigger>
                                          <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline">
                                             <xf:label>
                                                <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"/>
                                             </xf:label>
                                             <xf:action ev:event="DOMActivate">
                                                <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level3')"/>
                                                <insert origin="instance('i-rec')//*:bindingDesc/*/*/*[index('bindingDescrepeat-level3')]" nodeset="instance('i-rec')//*:bindingDesc/*/*/*" at="index('bindingDescrepeat-level3') + 1" position="after"/>
                                                <delete nodeset="."/>
                                             </xf:action>
                                          </xf:trigger>
                                          <span class="elementLabel">
                                             <xf:output value="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"/>
                                          </span>
                                       </div>
                                       <div class="input-group">
                                          <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]">
                                             <xf:label/>
                                             <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef">
                                                <xf:label ref="@ident"/>
                                                <xf:value ref="@ident"/>
                                             </xf:itemset>
                                             <xf:action ev:event="xforms-value-changed">
                                                <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                                             </xf:action>
                                          </xf:select1>
                                          <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]]">
                                             <xf:label>
                                                <i class="bi bi-plus-circle"/> Add Attribute</xf:label>
                                             <xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"/>
                                          </xf:trigger>
                                          <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]">
                                             <xf:label/>
                                             <xf:item>
                                                <xf:label> - select - </xf:label>
                                                <xf:value/>
                                             </xf:item>
                                             <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element">
                                                <xf:label ref="@ident"/>
                                                <xf:value ref="@ident"/>
                                             </xf:itemset>
                                             <xf:action ev:event="xforms-value-changed">
                                                <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                                             </xf:action>
                                          </xf:select1>
                                          <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]">
                                             <xf:label>
                                                <i class="bi bi-plus-circle"/> Add Element</xf:label>
                                             <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-elementTemplate')//*[local-name() = instance('i-insert-elements')//*:element]" position="after"/>
                                          </xf:trigger>
                                       </div>
                                    </div>
                                    <div class="element">
                                       <div class="alert alert-light hint elementDesc">
                                          <xf:output ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:desc"/>
                                       </div>
                                       <span class="attribute-group">
                                          <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*" class="row mb-2">
                                             <div xmlns="http://www.w3.org/1999/xhtml" class="row mb-2">
                                                <div class="col-sm-2">
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove" ref=".">
                                                      <xf:label>
                                                         <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                                      </xf:label>
                                                      <xf:delete ev:event="DOMActivate" ref="."/>
                                                   </xf:trigger>
                                                   <xf:output xmlns="http://www.w3.org/2002/xforms" value="local-name(current())"/>
                                                </div>
                                                <div class="col-sm-10">
                                                   <xf:input ref=".[not(instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem)]"/>
                                                   <xf:select1 ref=".[instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem]">
                                                      <xf:itemset ref="instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem">
                                                         <xf:label ref="@ident"/>
                                                         <xf:value ref="@ident"/>
                                                      </xf:itemset>
                                                   </xf:select1>
                                                </div>
                                             </div>
                                          </xf:repeat>
                                       </span>
                                       <span class="element-group">
                                          <xf:input ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='input']]"/>
                                          <xf:textarea ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='textarea']]"/>
                                          <xf:repeat id="bindingDescrepeat-level4" ref="./*[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                             <div class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                <div class="btn-group" role="group">
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline">
                                                      <xf:label>
                                                         <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                                      </xf:label>
                                                      <xf:delete ev:event="DOMActivate" ref="."/>
                                                   </xf:trigger>
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline">
                                                      <xf:label>
                                                         <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"/>
                                                      </xf:label>
                                                      <xf:action ev:event="DOMActivate">
                                                         <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level4')"/>
                                                         <insert origin="instance('i-rec')//*:bindingDesc/*/*/*/*[index('bindingDescrepeat-level4')]" nodeset="instance('i-rec')//*:bindingDesc/*/*/*/*" at="index('bindingDescrepeat-level4') - 1" position="before"/>
                                                         <delete nodeset="instance('i-rec')//*:bindingDesc/*/*/*/*[instance('i-move')/tmp + 1]"/>
                                                      </xf:action>
                                                   </xf:trigger>
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline">
                                                      <xf:label>
                                                         <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"/>
                                                      </xf:label>
                                                      <xf:action ev:event="DOMActivate">
                                                         <setvalue ref="instance('i-move')/tmp" value="index('bindingDescrepeat-level4')"/>
                                                         <insert origin="instance('i-rec')//*:bindingDesc/*/*/*/*[index('bindingDescrepeat-level4')]" nodeset="instance('i-rec')//*:bindingDesc/*/*/*/*" at="index('bindingDescrepeat-level4') + 1" position="after"/>
                                                         <delete nodeset="."/>
                                                      </xf:action>
                                                   </xf:trigger>
                                                   <span class="elementLabel">
                                                      <xf:output value="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"/>
                                                   </span>
                                                </div>
                                                <div class="input-group">
                                                   <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]">
                                                      <xf:label/>
                                                      <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef">
                                                         <xf:label ref="@ident"/>
                                                         <xf:value ref="@ident"/>
                                                      </xf:itemset>
                                                      <xf:action ev:event="xforms-value-changed">
                                                         <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                                                      </xf:action>
                                                   </xf:select1>
                                                   <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:availableAtts/descendant-or-self::*:attDef]]">
                                                      <xf:label>
                                                         <i class="bi bi-plus-circle"/> Add Attribute</xf:label>
                                                      <xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"/>
                                                   </xf:trigger>
                                                   <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]">
                                                      <xf:label/>
                                                      <xf:item>
                                                         <xf:label> - select - </xf:label>
                                                         <xf:value/>
                                                      </xf:item>
                                                      <xf:itemset ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element">
                                                         <xf:label ref="@ident"/>
                                                         <xf:value ref="@ident"/>
                                                      </xf:itemset>
                                                      <xf:action ev:event="xforms-value-changed">
                                                         <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"/>
                                                      </xf:action>
                                                   </xf:select1>
                                                   <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]">
                                                      <xf:label>
                                                         <i class="bi bi-plus-circle"/> Add Element</xf:label>
                                                      <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-elementTemplate')//*[local-name() = instance('i-insert-elements')//*:element]" position="after"/>
                                                   </xf:trigger>
                                                </div>
                                             </div>
                                             <div class="element">
                                                <div class="alert alert-light hint elementDesc">
                                                   <xf:output ref="instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:desc"/>
                                                </div>
                                                <span class="attribute-group">
                                                   <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*" class="row mb-2">
                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="row mb-2">
                                                         <div class="col-sm-2">
                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove" ref=".">
                                                               <xf:label>
                                                                  <i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x-circle"/>
                                                               </xf:label>
                                                               <xf:delete ev:event="DOMActivate" ref="."/>
                                                            </xf:trigger>
                                                            <xf:output xmlns="http://www.w3.org/2002/xforms" value="local-name(current())"/>
                                                         </div>
                                                         <div class="col-sm-10">
                                                            <xf:input ref=".[not(instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem)]"/>
                                                            <xf:select1 ref=".[instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem]">
                                                               <xf:itemset ref="instance('i-schemaConstraints')/child::*/*:availableAtts/tei:attDef[@ident = name(current())]/descendant::*:valList/*:valItem">
                                                                  <xf:label ref="@ident"/>
                                                                  <xf:value ref="@ident"/>
                                                               </xf:itemset>
                                                            </xf:select1>
                                                         </div>
                                                      </div>
                                                   </xf:repeat>
                                                </span>
                                                <span class="element-group">
                                                   <xf:input ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='input']]"/>
                                                   <xf:textarea ref=".[instance('i-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:textNode[@type='textarea']]"/>
                                                </span>
                                             </div>
                                          </xf:repeat>
                                       </span>
                                    </div>
                                 </xf:repeat>
                              </span>
                           </div>
                        </xf:repeat>
                     </span>
                  </div>
               </xf:repeat>
            </span>
         </div>
      </xf:group>
   </body>
</html>